<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    Github 十大最佳实践 | 刘小绪同学的博客
</title>
<link rel="shortcut icon" href="https://mengxiaoxu.github.io//favicon.ico?v=1569597092954">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://mengxiaoxu.github.io//styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://mengxiaoxu.github.io//media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-148716803-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-148716803-1');
    </script>
    
        
            
                <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
                <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
                

                    
                            
</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://mengxiaoxu.github.io/">
                <img class="avatar" src="https://mengxiaoxu.github.io//images/avatar.png?v=1569597092954" alt="">
            </a>
            <div class="site-title">
                <h1>
                    刘小绪同学的博客
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    首页
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    归档
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    标签
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    关于
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-detail main-container">
                <!-- left -->
                <div id="content" class="main-container-left">
                    <article class="post i-card">
                        <h2 class="post-title">
                            Github 十大最佳实践
                        </h2>
                        <div class="post-info">
                            <time class="post-time">2017-11-28</time>
                            
                                <a href="https://mengxiaoxu.github.io//tag/git" class="post-tag i-tag
                            i-tag-other_3">
                            #Git
                        </a>
                                
                                <a href="https://mengxiaoxu.github.io//tag/i4kET55EC" class="post-tag i-tag
                            i-tag-other_2">
                            #翻译
                        </a>
                                
                        </div>
                        
                            <div class="post-feature-image" style="background-image: url('https://mengxiaoxu.github.io//post-images/github-shi-da-zui-jia-shi-jian.jpg')"></div>
                            
                                <div class="post-content">
                                    <h4 id="1-保护主分支不受直接提交的影响">1、保护主分支不受直接提交的影响</h4>
<p>主分支中的任何一次提交都应该是可以直接部署的，所以永远不要直接提交默认分支，同时也是 <a href="https://nvie.com/posts/a-successful-git-branching-model/">Gitflow workflow</a> 成为标准的原因。使用<a href="https://help.github.com/articles/configuring-protected-branches/">分支保护</a>可以帮你防止直接提交，当然，所有的事情都应该使用<code>pull requests</code>来管理。</p>
<figure data-type="image" tabindex="1"><img src="https://mengxiaoxu.github.io//post-images/1569595690200.gif" alt=""></figure>
<h4 id="2-避免基础信息的混乱">2、避免基础信息的混乱</h4>
<p>或许你在一个新的环境工作，或者你并没有注意到自己的 <a href="https://help.github.com/articles/why-are-my-commits-linked-to-the-wrong-user/">git 配置</a>是不正确的，因此提交代码时伴随着错误的邮箱地址。如果提交没有关联到正确的用户信息，那将导致无法追溯到是谁写的代码。</p>
<p>保证你的 <a href="https://help.github.com/articles/setting-your-commit-email-address-in-git/">git 客户端配置</a>是正确的邮箱地址，并且关联到你的 github 账户。评审代码时注意检查你的<code>pull requests</code>是否存在无法识别的提交。</p>
<figure data-type="image" tabindex="2"><img src="https://mengxiaoxu.github.io//post-images/1569595673547.jpg" alt=""></figure>
<h4 id="3-为每个仓库定义-codeowners">3、为每个仓库定义 CODEOWNERS</h4>
<p>使用 <a href="https://help.github.com/articles/about-codeowners/">CODEOWNERS</a> 功能可以定义哪些团队和人员被自动选为仓库的审阅者。此功能会自动请求仓库所有者进行审核。如今。组织拥有很多的仓库，而 CODEOWNERS 可以选择定义组织中的维护者。</p>
<figure data-type="image" tabindex="3"><img src="https://mengxiaoxu.github.io//post-images/1569595778372.png" alt=""></figure>
<h4 id="4-从源代码中分离出秘密凭证">4、从源代码中分离出秘密凭证</h4>
<p>在构建云原生程序时，我们保护了许多的机密信息，比如账户密码、API 秘钥、私人令牌、SSH 秘钥等。绝对不要将任何机密信息提交到你的代码中，而应该采用从安全存储外部注入的环境变量。</p>
<p>你可以使用 <a href="https://www.vaultproject.io/">Vault</a>、<a href="https://aws.amazon.com/cn/secrets-manager/">AWS Secrets Manager</a> 之类的工具来管理产品中的机密信息。</p>
<p>有很多超棒的工具可以识别代码中的机密信息，例如 <a href="https://github.com/awslabs/git-secrets">Git-secrets</a> 可以帮助你识别代码中的密码；使用 <a href="https://githooks.com/">Git Hooks</a> 可以构建一个预提交<a href="https://github.com/git/git/blob/master/templates/hooks--pre-commit.sample">钩子</a>，并检查每个<code>pull requests</code>中的机密信息。</p>
<figure data-type="image" tabindex="4"><img src="https://mengxiaoxu.github.io//post-images/1569595852624.png" alt=""></figure>
<h4 id="5-不要提交项目的依赖">5、不要提交项目的依赖</h4>
<p>将项目的依赖提交到仓库中会增加仓库的大小。应该将你项目的所有依赖都从仓库中移除，让你的包管理器负责去下载它们。如果你担心“依赖可用性”，可以考虑使用 <a href="https://jfrog.com/">Jfrog</a> 或 <a href="https://www.sonatype.com/nexus-repository-sonatype">Nexus Repository</a> 这样的二进制存储库管理器。</p>
<h4 id="6-从源代码中分离配置文件">6、从源代码中分离配置文件</h4>
<p>建议不要将本地配置文件提交到版本控制器，通常这些都是你不想推送到远程的私有配置文件，因为它们包含机密信息。个人的偏好，历史信息等应该保存在本地环境中。</p>
<h4 id="7-为项目创建一个有意义的-gitignore-文件">7、为项目创建一个有意义的 .gitignore 文件</h4>
<p>每个仓库都必须使用<code>.gitignore</code>文件来忽略预定义的文件和目录，它可以帮助你保护代码中的机密信息、依赖项和其他可能的差异。你可以从 <a href="https://www.gitignore.io/">Gitignore.io</a> 选择相关的模板。</p>
<figure data-type="image" tabindex="5"><img src="https://mengxiaoxu.github.io//post-images/1569595902115.gif" alt=""></figure>
<h4 id="8-将死库归档">8、将死库归档</h4>
<p>随着时间的推移，由于各种原因，我们发现自已拥有不再维护的仓库。或许你为一个临时用例新建了仓库，或者有一些包含旧的和不相关代码的仓库。它们存在的问题是相同的，这些仓库在达到其目的之后不在被积极的维护开发，因此你不希望再维护它们或不希望其他人依赖/使用它们，最好的方式是将这些仓库归档，这样对每个人都是“只读”的。</p>
<figure data-type="image" tabindex="6"><img src="https://mengxiaoxu.github.io//post-images/1569595998441.gif" alt=""></figure>
<h4 id="9-锁定依赖包的版本">9、锁定依赖包的版本</h4>
<p>你的依赖配置文件中包含所有软件包版本的信息，以便在每次安装应用程序时，在不破坏代码的前提下保持一致的结果。最好的方式是使用配置锁定文件来避免差异，并确定每次都获得相同的软件包版本。</p>
<figure data-type="image" tabindex="7"><img src="https://mengxiaoxu.github.io//post-images/1569596241070.gif" alt=""></figure>
<h4 id="10-对齐包的版本">10、对齐包的版本</h4>
<p>虽然你使用的是相同的软件包，但是不同的版本会使得在不同项目中重用代码和测试变得困难。</p>
<p>如果你有一个在多个项目中使用的包，请至少尝试在不同的仓库中使用相同的主要版本。</p>
<figure data-type="image" tabindex="8"><img src="https://mengxiaoxu.github.io//post-images/1569596262235.jpg" alt=""></figure>
<p>原文链接：<code>https://datree.io/blog/top-10-github-best-practices/</code></p>

                                </div>
                    </article>
                    <!--  -->
                    
                            <div id="disqus_thread"></div>
                            <div id="gitalk-container"></div>
                </div>
                <!-- middle -->
                <div class="main-container-middle"></div>
                <!-- right -->
                <div id="sidebar" class="main-container-right">
                    
                        <!-- toc -->
                        
    <div class="toc-card i-card ">
        <div class="toc-title i-card-title">目录</div>
        <div class="toc-content">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#1-%E4%BF%9D%E6%8A%A4%E4%B8%BB%E5%88%86%E6%94%AF%E4%B8%8D%E5%8F%97%E7%9B%B4%E6%8E%A5%E6%8F%90%E4%BA%A4%E7%9A%84%E5%BD%B1%E5%93%8D">1、保护主分支不受直接提交的影响</a></li>
<li><a href="#2-%E9%81%BF%E5%85%8D%E5%9F%BA%E7%A1%80%E4%BF%A1%E6%81%AF%E7%9A%84%E6%B7%B7%E4%B9%B1">2、避免基础信息的混乱</a></li>
<li><a href="#3-%E4%B8%BA%E6%AF%8F%E4%B8%AA%E4%BB%93%E5%BA%93%E5%AE%9A%E4%B9%89-codeowners">3、为每个仓库定义 CODEOWNERS</a></li>
<li><a href="#4-%E4%BB%8E%E6%BA%90%E4%BB%A3%E7%A0%81%E4%B8%AD%E5%88%86%E7%A6%BB%E5%87%BA%E7%A7%98%E5%AF%86%E5%87%AD%E8%AF%81">4、从源代码中分离出秘密凭证</a></li>
<li><a href="#5-%E4%B8%8D%E8%A6%81%E6%8F%90%E4%BA%A4%E9%A1%B9%E7%9B%AE%E7%9A%84%E4%BE%9D%E8%B5%96">5、不要提交项目的依赖</a></li>
<li><a href="#6-%E4%BB%8E%E6%BA%90%E4%BB%A3%E7%A0%81%E4%B8%AD%E5%88%86%E7%A6%BB%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">6、从源代码中分离配置文件</a></li>
<li><a href="#7-%E4%B8%BA%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%9C%89%E6%84%8F%E4%B9%89%E7%9A%84-gitignore-%E6%96%87%E4%BB%B6">7、为项目创建一个有意义的 .gitignore 文件</a></li>
<li><a href="#8-%E5%B0%86%E6%AD%BB%E5%BA%93%E5%BD%92%E6%A1%A3">8、将死库归档</a></li>
<li><a href="#9-%E9%94%81%E5%AE%9A%E4%BE%9D%E8%B5%96%E5%8C%85%E7%9A%84%E7%89%88%E6%9C%AC">9、锁定依赖包的版本</a></li>
<li><a href="#10-%E5%AF%B9%E9%BD%90%E5%8C%85%E7%9A%84%E7%89%88%E6%9C%AC">10、对齐包的版本</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
        <script>
            function locateCatelogList() {
                /*获取文章目录集合,可通过:header过滤器*/
                var alis = $('.post-content :header');
                /*获取侧边栏目录列表集合**/
                var sidebar_alis = $('.markdownIt-TOC a');
                /*获取滚动条到顶部的距离*/
                var scroll_height = $(window).scrollTop();
                for (var i = 0; i < alis.length; i++) {
                    /*获取锚点集合中的元素分别到顶点的距离*/
                    var a_height = $(alis[i]).offset().top;
                    if (a_height < scroll_height) {
                        /*高亮显示*/
                        sidebar_alis.removeClass('on');
                        $(sidebar_alis[i]).addClass('on');
                    }
                }
            }
            $(function() {
                /*绑定滚动事件 */
                $(window).bind('scroll', locateCatelogList);
            });
        </script>
    </div>
    
                            

                </div>




            </div>


            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://mengxiaoxu.github.io//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>


    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
    
        
            <script>
    window.onload = function() {
        var gitalk = new Gitalk({
            clientID: '70b5a748b63425a6adfc',
            clientSecret: '35ad2482815fc609bacd858a7ff28cfd80a4e465',
            repo: 'mengxiaoxu.github.io',
            owner: 'mengxiaoxu',
            admin: ['mengxiaoxu'],
            id: (location.pathname).substring(0, 49), // Ensure uniqueness and length less than 50
            distractionFreeMode: false // Facebook-like distraction free mode
        })

        gitalk.render('gitalk-container')
    }
</script>
                

                    
                                
</body>

</html>